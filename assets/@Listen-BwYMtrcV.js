import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{useMDXComponents as g}from"./index-Dptnvgy-.js";import{M as x}from"./blocks-CdLK_G6W.js";import{l as a}from"./coverage-data-DdkU-Vpw.js";import{r as v}from"./iframe-CwohliWg.js";import{R as k}from"./RulesAtAGlance-CNoDHoDo.js";import"./preload-helper-D9Z9MdNV.js";import"./index-CHfrjXoi.js";const b="@Listen",j={target:["host","window","document","body"],event:["click","keydown","input"],capture:["✓","✗"],passive:["✓","✗"]},B=[],K=[{name:"host",when:{target:"host"}},{name:"window",when:{target:"window"}},{name:"document",when:{target:"document"}},{name:"body",when:{target:"body"}}],C={naming:{prefix:"listen",includeOptions:["target","event","capture","passive"]}},T={decorator:b,options:j,exclusiveGroups:B,modes:K,emit:C},L=JSON.parse('[{"group":"body","options":{"target":"body","event":"click","capture":"✗","passive":"✗"},"optionsKey":"body|click|✗|✗","files":["body/listen-body-click-capture-false-passive-false.tsx"],"tag":"listen-body-click-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"click","capture":"✗","passive":"✓"},"optionsKey":"body|click|✗|✓","files":["body/listen-body-click-capture-false-passive.tsx"],"tag":"listen-body-click-capture-false-passive","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"click","capture":"✓","passive":"✗"},"optionsKey":"body|click|✓|✗","files":["body/listen-body-click-capture-passive-false.tsx"],"tag":"listen-body-click-capture-passive-false","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"click","capture":"✓","passive":"✓"},"optionsKey":"body|click|✓|✓","files":["body/listen-body-click-capture-passive.tsx"],"tag":"listen-body-click-capture-passive","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"input","capture":"✗","passive":"✗"},"optionsKey":"body|input|✗|✗","files":["body/listen-body-input-capture-false-passive-false.tsx"],"tag":"listen-body-input-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"input","capture":"✗","passive":"✓"},"optionsKey":"body|input|✗|✓","files":["body/listen-body-input-capture-false-passive.tsx"],"tag":"listen-body-input-capture-false-passive","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"input","capture":"✓","passive":"✗"},"optionsKey":"body|input|✓|✗","files":["body/listen-body-input-capture-passive-false.tsx"],"tag":"listen-body-input-capture-passive-false","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"input","capture":"✓","passive":"✓"},"optionsKey":"body|input|✓|✓","files":["body/listen-body-input-capture-passive.tsx"],"tag":"listen-body-input-capture-passive","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"keydown","capture":"✗","passive":"✗"},"optionsKey":"body|keydown|✗|✗","files":["body/listen-body-keydown-capture-false-passive-false.tsx"],"tag":"listen-body-keydown-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"keydown","capture":"✗","passive":"✓"},"optionsKey":"body|keydown|✗|✓","files":["body/listen-body-keydown-capture-false-passive.tsx"],"tag":"listen-body-keydown-capture-false-passive","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"keydown","capture":"✓","passive":"✗"},"optionsKey":"body|keydown|✓|✗","files":["body/listen-body-keydown-capture-passive-false.tsx"],"tag":"listen-body-keydown-capture-passive-false","tested":false,"testedBy":[]},{"group":"body","options":{"target":"body","event":"keydown","capture":"✓","passive":"✓"},"optionsKey":"body|keydown|✓|✓","files":["body/listen-body-keydown-capture-passive.tsx"],"tag":"listen-body-keydown-capture-passive","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"click","capture":"✗","passive":"✗"},"optionsKey":"document|click|✗|✗","files":["document/listen-document-click-capture-false-passive-false.tsx"],"tag":"listen-document-click-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"click","capture":"✗","passive":"✓"},"optionsKey":"document|click|✗|✓","files":["document/listen-document-click-capture-false-passive.tsx"],"tag":"listen-document-click-capture-false-passive","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"click","capture":"✓","passive":"✗"},"optionsKey":"document|click|✓|✗","files":["document/listen-document-click-capture-passive-false.tsx"],"tag":"listen-document-click-capture-passive-false","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"click","capture":"✓","passive":"✓"},"optionsKey":"document|click|✓|✓","files":["document/listen-document-click-capture-passive.tsx"],"tag":"listen-document-click-capture-passive","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"input","capture":"✗","passive":"✗"},"optionsKey":"document|input|✗|✗","files":["document/listen-document-input-capture-false-passive-false.tsx"],"tag":"listen-document-input-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"input","capture":"✗","passive":"✓"},"optionsKey":"document|input|✗|✓","files":["document/listen-document-input-capture-false-passive.tsx"],"tag":"listen-document-input-capture-false-passive","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"input","capture":"✓","passive":"✗"},"optionsKey":"document|input|✓|✗","files":["document/listen-document-input-capture-passive-false.tsx"],"tag":"listen-document-input-capture-passive-false","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"input","capture":"✓","passive":"✓"},"optionsKey":"document|input|✓|✓","files":["document/listen-document-input-capture-passive.tsx"],"tag":"listen-document-input-capture-passive","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"keydown","capture":"✗","passive":"✗"},"optionsKey":"document|keydown|✗|✗","files":["document/listen-document-keydown-capture-false-passive-false.tsx"],"tag":"listen-document-keydown-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"keydown","capture":"✗","passive":"✓"},"optionsKey":"document|keydown|✗|✓","files":["document/listen-document-keydown-capture-false-passive.tsx"],"tag":"listen-document-keydown-capture-false-passive","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"keydown","capture":"✓","passive":"✗"},"optionsKey":"document|keydown|✓|✗","files":["document/listen-document-keydown-capture-passive-false.tsx"],"tag":"listen-document-keydown-capture-passive-false","tested":false,"testedBy":[]},{"group":"document","options":{"target":"document","event":"keydown","capture":"✓","passive":"✓"},"optionsKey":"document|keydown|✓|✓","files":["document/listen-document-keydown-capture-passive.tsx"],"tag":"listen-document-keydown-capture-passive","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"click","capture":"✗","passive":"✗"},"optionsKey":"host|click|✗|✗","files":["host/listen-host-click-capture-false-passive-false.tsx"],"tag":"listen-host-click-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"click","capture":"✗","passive":"✓"},"optionsKey":"host|click|✗|✓","files":["host/listen-host-click-capture-false-passive.tsx"],"tag":"listen-host-click-capture-false-passive","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"click","capture":"✓","passive":"✗"},"optionsKey":"host|click|✓|✗","files":["host/listen-host-click-capture-passive-false.tsx"],"tag":"listen-host-click-capture-passive-false","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"click","capture":"✓","passive":"✓"},"optionsKey":"host|click|✓|✓","files":["host/listen-host-click-capture-passive.tsx"],"tag":"listen-host-click-capture-passive","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"input","capture":"✗","passive":"✗"},"optionsKey":"host|input|✗|✗","files":["host/listen-host-input-capture-false-passive-false.tsx"],"tag":"listen-host-input-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"input","capture":"✗","passive":"✓"},"optionsKey":"host|input|✗|✓","files":["host/listen-host-input-capture-false-passive.tsx"],"tag":"listen-host-input-capture-false-passive","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"input","capture":"✓","passive":"✗"},"optionsKey":"host|input|✓|✗","files":["host/listen-host-input-capture-passive-false.tsx"],"tag":"listen-host-input-capture-passive-false","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"input","capture":"✓","passive":"✓"},"optionsKey":"host|input|✓|✓","files":["host/listen-host-input-capture-passive.tsx"],"tag":"listen-host-input-capture-passive","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"keydown","capture":"✗","passive":"✗"},"optionsKey":"host|keydown|✗|✗","files":["host/listen-host-keydown-capture-false-passive-false.tsx"],"tag":"listen-host-keydown-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"keydown","capture":"✗","passive":"✓"},"optionsKey":"host|keydown|✗|✓","files":["host/listen-host-keydown-capture-false-passive.tsx"],"tag":"listen-host-keydown-capture-false-passive","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"keydown","capture":"✓","passive":"✗"},"optionsKey":"host|keydown|✓|✗","files":["host/listen-host-keydown-capture-passive-false.tsx"],"tag":"listen-host-keydown-capture-passive-false","tested":false,"testedBy":[]},{"group":"host","options":{"target":"host","event":"keydown","capture":"✓","passive":"✓"},"optionsKey":"host|keydown|✓|✓","files":["host/listen-host-keydown-capture-passive.tsx"],"tag":"listen-host-keydown-capture-passive","tested":false,"testedBy":[]},{"group":"window","options":{"target":"window","event":"click","capture":"✗","passive":"✗"},"optionsKey":"window|click|✗|✗","files":["window/listen-window-click-capture-false-passive-false.tsx"],"tag":"listen-window-click-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"window","options":{"target":"window","event":"click","capture":"✗","passive":"✓"},"optionsKey":"window|click|✗|✓","files":["window/listen-window-click-capture-false-passive.tsx"],"tag":"listen-window-click-capture-false-passive","tested":false,"testedBy":[]},{"group":"window","options":{"target":"window","event":"click","capture":"✓","passive":"✗"},"optionsKey":"window|click|✓|✗","files":["window/listen-window-click-capture-passive-false.tsx"],"tag":"listen-window-click-capture-passive-false","tested":false,"testedBy":[]},{"group":"window","options":{"target":"window","event":"click","capture":"✓","passive":"✓"},"optionsKey":"window|click|✓|✓","files":["window/listen-window-click-capture-passive.tsx"],"tag":"listen-window-click-capture-passive","tested":false,"testedBy":[]},{"group":"window","options":{"target":"window","event":"keydown","capture":"✗","passive":"✗"},"optionsKey":"window|keydown|✗|✗","files":["window/listen-window-keydown-capture-false-passive-false.tsx"],"tag":"listen-window-keydown-capture-false-passive-false","tested":false,"testedBy":[]},{"group":"window","options":{"target":"window","event":"keydown","capture":"✗","passive":"✓"},"optionsKey":"window|keydown|✗|✓","files":["window/listen-window-keydown-capture-false-passive.tsx"],"tag":"listen-window-keydown-capture-false-passive","tested":false,"testedBy":[]},{"group":"window","options":{"target":"window","event":"keydown","capture":"✓","passive":"✗"},"optionsKey":"window|keydown|✓|✗","files":["window/listen-window-keydown-capture-passive-false.tsx"],"tag":"listen-window-keydown-capture-passive-false","tested":false,"testedBy":[]},{"group":"window","options":{"target":"window","event":"keydown","capture":"✓","passive":"✓"},"optionsKey":"window|keydown|✓|✓","files":["window/listen-window-keydown-capture-passive.tsx"],"tag":"listen-window-keydown-capture-passive","tested":false,"testedBy":[]}]'),D={items:L},M=()=>{const[o,t]=v.useState(!1),p=v.useMemo(()=>{const n=D.items||[];return(a.coveredPermutations||[]).map((s,l)=>{const[i,r,u,y]=s.options||[],h=`${i}|${r}|${u}|${y}`,f=n.find(m=>m.optionsKey===h)||{};return{index:l,target:i,event:r,capture:u,passive:y,tested:!!f.tested,tests:f.testedBy||[]}})},[]),d=p.length,c=n=>e.jsx("div",{style:{maxWidth:"100%",width:"100%",background:"#fff"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"20%"}}),e.jsx("col",{style:{width:"20%"}}),e.jsx("col",{style:{width:"15%"}}),e.jsx("col",{style:{width:"15%"}}),e.jsx("col",{style:{width:"10%"}}),e.jsx("col",{style:{width:"20%"}})]}),e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"target"}),e.jsx("th",{children:"event"}),e.jsx("th",{children:"capture"}),e.jsx("th",{children:"passive"}),e.jsx("th",{style:{textAlign:"center"},children:"Tested"}),e.jsx("th",{children:"Test Cases"})]})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{style:{background:s.tested?"#fbfffb":"#fff"},children:[e.jsx("td",{children:s.target}),e.jsx("td",{children:s.event}),e.jsx("td",{children:s.capture}),e.jsx("td",{children:s.passive}),e.jsx("td",{style:{textAlign:"center"},children:s.tested?e.jsx("span",{style:{color:"green"},children:"✔"}):e.jsx("span",{style:{color:"#999"},children:"—"})}),e.jsx("td",{children:s.tests.length?e.jsx("ul",{style:{margin:0,paddingLeft:16},children:s.tests.map((l,i)=>e.jsx("li",{children:l},i))}):e.jsx("em",{children:"—"})})]},s.index))})]})});if(!o){const n=p.slice(0,3);return e.jsxs("div",{style:{position:"relative"},children:[c(n),d>3&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:40,height:48,background:"linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 90%)",pointerEvents:"none"}}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:-8},children:e.jsxs("button",{onClick:()=>t(!0),style:{padding:"6px 12px",border:"1px solid #ddd",background:"#f8f8f8",borderRadius:4,cursor:"pointer",fontSize:12},"aria-label":`Show all ${d} components`,children:["Show all ",d," components"]})})]})]})}return e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:8},children:e.jsx("button",{onClick:()=>t(!1),style:{padding:"6px 12px",border:"1px solid #ddd",background:"#f8f8f8",borderRadius:4,cursor:"pointer",fontSize:12},"aria-label":"Collapse components table",children:"Collapse table"})}),c(p)]})};function w(o){const t={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...g(),...o.components};return e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"Testing/Decorators/@Listen"}),`
`,e.jsx(t.h1,{id:"listen-decorator",children:"@Listen Decorator"}),`
`,e.jsxs(t.p,{children:["The ",e.jsx(t.code,{children:"@Listen"})," decorator wires an event listener to a target (host, window, document, or body). This page documents options, rules, generated components, grouping, and test cases."]}),`
`,e.jsx(t.h2,{id:"decorator-properties",children:"Decorator Properties"}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsx(t.li,{children:"target: where to listen (default: host)"}),`
`,e.jsx(t.li,{children:"event: the event name (e.g., click, keydown, input)"}),`
`,e.jsx(t.li,{children:"capture: use capture phase when true"}),`
`,e.jsx(t.li,{children:"passive: mark listener as passive when true"}),`
`]}),`
`,e.jsx(t.h2,{id:"rules-at-a-glance",children:"Rules (at a glance)"}),`
`,e.jsx(k,{rules:T,sourcePath:"./rules.json",modeLabel:"Listen target"}),`
`,e.jsx(t.h2,{id:"generated-components",children:"Generated Components"}),`
`,e.jsx("div",{children:e.jsxs(t.p,{children:[e.jsx("strong",{children:"Generated Components:"})," ",a.coverage.covered," of ",a.coverage.total,` generated (
`,e.jsxs("strong",{children:[a.coverage.percent,"%"]}),")"]})}),`
`,e.jsx("p",{style:{marginTop:8},children:e.jsxs(t.p,{children:["One row per unique combination of ",e.jsx("code",{children:"target"})," × ",e.jsx("code",{children:"event"})," × ",e.jsx("code",{children:"capture"})," × ",e.jsx("code",{children:"passive"}),`.
If a combo fails to compile, capture it in `,e.jsx("code",{children:"rules.json"})," and regenerate. The “Tested / Test Cases” column is populated in Phase 2."]})}),`
`,`
`,e.jsx(M,{}),`
`,e.jsx(t.h2,{id:"component-grouping",children:"Component Grouping"}),`
`,e.jsxs(t.p,{children:["Components are grouped by target under ",e.jsx(t.code,{children:"test/wdio/listen/matrix/<host|window|document|body>/"}),"."]}),`
`,e.jsx(t.h2,{id:"test-cases",children:"Test Cases"}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:["Phase 2 placeholder: tests will be propagated across generated components and recorded in ",e.jsx(t.code,{children:"coverage-overlay.json"}),"."]}),`
`]})]})}function X(o={}){const{wrapper:t}={...g(),...o.components};return t?e.jsx(t,{...o,children:e.jsx(w,{...o})}):w(o)}export{M as GeneratedComponentsTable,X as default};
