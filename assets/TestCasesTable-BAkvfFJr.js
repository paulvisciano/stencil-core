import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as j}from"./iframe-BYykHvt_.js";function y({rows:o=[],previewCount:r=3}){const f=[...o.filter(d=>!d.implemented)].sort((d,t)=>d.id-t.id),h=[...o.filter(d=>d.implemented)].sort((d,t)=>d.id-t.id),l=[...f,...h],i=l.length,[n,a]=j.useState(!1),u=n?l:l.slice(0,r),g=d=>{if(!d.implemented)return e.jsx("em",{children:"—"});const t=d.total>0&&d.tested===d.total;return e.jsx("span",{style:{color:t?"green":"#999"},children:d.total>0?t?"✔":"✗":"—"})},m=(d,t)=>e.jsxs("tr",{style:t%2===1?{background:"#f9f9f9"}:void 0,children:[e.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd"},children:["#",d.id]}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:d.desc}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:d.types}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:g(d)})]},d.id),b=d=>{const t=[];let p=null;return d.forEach((c,x)=>{const s=c.implemented?"implemented":"missing";s!==p&&(t.push(e.jsx("tr",{children:e.jsx("td",{colSpan:4,style:{padding:"8px",border:"1px solid #ddd",background:s==="missing"?"#fff4e5":"#eef7ee",fontWeight:600},children:s==="missing"?"Not Implemented":"Implemented"})},`section-${s}-${x}`)),p=s),t.push(m(c,x))}),t};return e.jsxs("div",{style:{maxWidth:"100%",width:"100%",background:"#fff",position:"relative"},children:[e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"15%"}}),e.jsx("col",{style:{width:"55%"}}),e.jsx("col",{style:{width:"20%"}}),e.jsx("col",{style:{width:"10%"}})]}),e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f2f2f2"},children:[e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"Test Case #"}),e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"Description"}),e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"Types Covered"}),e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:"Status"})]})}),e.jsx("tbody",{children:b(u)})]}),!n&&i>r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:40,height:48,background:"linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 90%)",pointerEvents:"none"}}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:8},children:e.jsxs("button",{onClick:()=>a(!0),style:{padding:"6px 12px",border:"1px solid #ddd",background:"#f8f8f8",borderRadius:4,cursor:"pointer",fontSize:12},"aria-label":`Show all ${i} test cases`,children:["Show all ",i," test cases"]})})]}),n&&e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:e.jsx("button",{onClick:()=>a(!1),style:{padding:"6px 12px",border:"1px solid #ddd",background:"#f8f8f8",borderRadius:4,cursor:"pointer",fontSize:12},"aria-label":"Collapse test cases table",children:"Collapse table"})})]})}y.__docgenInfo={description:"",methods:[],displayName:"TestCasesTable",props:{rows:{defaultValue:{value:"[]",computed:!1},required:!1},previewCount:{defaultValue:{value:"3",computed:!1},required:!1}}};export{y as T};
