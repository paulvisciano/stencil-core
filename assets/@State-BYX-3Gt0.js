import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{useMDXComponents as v}from"./index-ko9UREy4.js";import{M as S}from"./blocks-DF1w5J0Q.js";import{o as j}from"./test-coverage-DBktEyOp.js";import{r as w}from"./iframe-Bi9ZEOCE.js";import{G as C,R as T}from"./GeneratedComponentsTable-DkNLC4Jz.js";import{T as D}from"./TestCasesTable-BBAJWkai.js";import"./preload-helper-D9Z9MdNV.js";import"./index-BUNb4G5H.js";const I="@State",M={type:["string","number","boolean","array","object","any"],hasDefault:[!0,!1]},B=[],O=[{name:"string",when:{type:"string"}},{name:"number",when:{type:"number"}},{name:"boolean",when:{type:"boolean"}},{name:"array",when:{type:"array"}},{name:"object",when:{type:"object"}},{name:"any",when:{type:"any"}}],z={naming:{prefix:"state",includeOptions:["type","hasDefault"]}},A={decorator:I,options:M,exclusiveGroups:B,modes:O,emit:z},F={covered:12,total:12,percent:"100.00"},G=[{options:["string","false"],count:1,files:["string/state-string-no-default.tsx"]},{options:["string","true"],count:1,files:["string/state-string-default.tsx"]},{options:["object","false"],count:1,files:["object/state-object-no-default.tsx"]},{options:["object","true"],count:1,files:["object/state-object-default.tsx"]},{options:["number","false"],count:1,files:["number/state-number-no-default.tsx"]},{options:["number","true"],count:1,files:["number/state-number-default.tsx"]},{options:["boolean","false"],count:1,files:["boolean/state-boolean-no-default.tsx"]},{options:["boolean","true"],count:1,files:["boolean/state-boolean-default.tsx"]},{options:["array","false"],count:1,files:["array/state-array-no-default.tsx"]},{options:["array","true"],count:1,files:["array/state-array-default.tsx"]},{options:["any","false"],count:1,files:["any/state-any-no-default.tsx"]},{options:["any","true"],count:1,files:["any/state-any-default.tsx"]}],g={coverage:F,coveredPermutations:G},P=()=>{const r=j.testCaseStatus||{},t=Object.values(r),d=t.filter(s=>s.implemented).length,i=t.length||2,n=i>0?Math.round(d/i*100):0,l=t.reduce((s,p)=>s+(p.testCount||0),0);return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",marginBottom:"32px"},children:[e.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",border:"2px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Test Cases Implemented"}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:"#111827",lineHeight:"1",marginBottom:"6px"},children:[d,e.jsxs("span",{style:{color:"#d1d5db"},children:["/",i]})]}),e.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:[n,"% complete"]})]}),e.jsxs("div",{style:{background:"#f0fdf4",padding:"20px",borderRadius:"8px",border:"2px solid #86efac",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#15803d",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Total Tests Passing"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#16a34a",lineHeight:"1",marginBottom:"6px"},children:l}),e.jsx("div",{style:{fontSize:"13px",color:"#15803d",marginBottom:"8px"},children:"All tests passing âœ“"}),e.jsxs("div",{style:{fontSize:"11px",color:"#15803d",opacity:.8,borderTop:"1px solid #86efac",paddingTop:"8px",marginTop:"8px"},children:["ðŸ“… Last run: ",new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})]})]})]})},k=()=>{const r=j.items||[],t=a=>r.filter(u=>a.has(u.group)),d=a=>({tested:a.filter(u=>u.tested).length,total:a.length}),i=new Set(["string","number","boolean"]),n=new Set(["any","array","object"]),l=d(t(i)),s=d(t(n)),p=a=>{const u=new Set;for(const f of a)for(const y of f.caseIds||[])u.add(y);return Array.from(u).sort((f,y)=>f-y)},x=p(t(i)),m=p(t(n)),c=x.length>0,o=m.length>0,h=[{id:1,implemented:c,desc:e.jsxs(e.Fragment,{children:["Button click mutates a primitive ",e.jsx("code",{children:"@State"})," value and updates DOM output."]}),types:e.jsxs(e.Fragment,{children:["type: string | number | boolean Ã— default: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",l.tested,"/",l.total]})]}),tested:l.tested,total:l.total,section:c?"implemented":"missing"},{id:2,implemented:o,desc:e.jsxs(e.Fragment,{children:["Static render validation for complex types (",e.jsx("code",{children:"any"}),", ",e.jsx("code",{children:"array"}),", ",e.jsx("code",{children:"object"}),") with and without defaults.",e.jsx("br",{}),e.jsxs("small",{children:["Tests: ",m.length?s.total:0]})]}),types:e.jsxs(e.Fragment,{children:["type: any | array | object Ã— default: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",s.tested,"/",s.total]})]}),tested:s.tested,total:s.total,section:o?"implemented":"missing"}];return e.jsx(D,{rows:h,previewCount:2})},R=()=>{const r=w.useMemo(()=>{const d=j.items||[],i=new Map(d.map(n=>[`${n.options?.type},${String(n.options?.hasDefault)}`,n]));return(g.coveredPermutations||[]).map((n,l)=>{const s=n.options?.[0],p=n.options?.[1],x=i.get(`${s},${p}`)||{},m=Array.isArray(x.caseIds)?[...x.caseIds].sort((c,o)=>c-o):[];return{index:l,type:s,hasDefault:p,caseNumbers:m}})},[]),t=[{key:"type",label:"Type",width:"25%"},{key:"hasDefault",label:"Has Default Value",width:"25%"},{key:"testedBy",label:"Tested By",width:"50%"}];return e.jsx(C,{rows:r,columns:t,previewCount:3})},N=()=>{const r=j.items||[],t=c=>r.filter(o=>c.has(o.group)),d=new Set(["string","number","boolean"]),i=new Set(["any","array","object"]),n=t(d),l=t(i),s=c=>{const o=new Set;for(const h of c)for(const a of h.caseIds||[])o.add(a);return Array.from(o).sort((h,a)=>h-a)},p=s(n),x=s(l),m=[];return p.length===0&&m.push({id:1,desc:"Primitive state types - reactive updates and DOM rendering"}),x.length===0&&m.push({id:2,desc:"Complex state types - static render validation"}),m.length===0?null:e.jsx("div",{children:m.map(({id:c,desc:o})=>e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("strong",{children:["Test Case #",c," TODO"]}),": ",o]},c))})};function b(r){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...v(),...r.components};return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Testing/Decorators/@State"}),`
`,e.jsx(t.h1,{id:"state-decorator",children:"@State Decorator"}),`
`,e.jsxs(t.p,{children:["The ",e.jsx(t.code,{children:"@State"})," decorator manages internal state for a component. When a state property changes, the component re-renders. This page documents the test coverage, patterns, generated components, and implementation status."]}),`
`,e.jsx(t.h2,{id:"decorator-properties",children:"Decorator Properties"}),`
`,e.jsxs(t.p,{children:["The ",e.jsx(t.code,{children:"@State"})," decorator is used for managing internal data that can change over time. Unlike ",e.jsx(t.code,{children:"@Prop"}),", state is not meant to be passed in from a parent component."]}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:[e.jsx(t.strong,{children:"Type"}),": ",e.jsx(t.code,{children:"@State"})," can be used with standard data types, such as ",e.jsx(t.code,{children:"string"}),", ",e.jsx(t.code,{children:"number"}),", ",e.jsx(t.code,{children:"boolean"}),", ",e.jsx(t.code,{children:"array"}),", ",e.jsx(t.code,{children:"object"}),", or ",e.jsx(t.code,{children:"any"}),". The type can be explicitly annotated or inferred from the initial value."]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.strong,{children:"Default Value"}),": A state property can be initialized with a default value. If no default value is provided, it will be ",e.jsx(t.code,{children:"undefined"}),". Generation covers both scenarios to ensure the component compiles correctly."]}),`
`]}),`
`,e.jsx(t.h2,{id:"rules-at-a-glance",children:"Rules (at a glance)"}),`
`,e.jsx(T,{rules:A,sourcePath:"./data/rules.json",modeLabel:"State type"}),`
`,e.jsx(t.h2,{id:"test-cases",children:"Test Cases"}),`
`,e.jsxs(t.p,{children:["Test cases are organized by ",e.jsx(t.strong,{children:"type complexity"})," - from basic primitive types to complex object and array types. All ",e.jsx(t.code,{children:"@State"})," tests reside under ",e.jsx("code",{children:"test/wdio/state"}),"."]}),`
`,`
`,e.jsx(P,{}),`
`,`
`,e.jsx(k,{}),`
`,e.jsx(t.h2,{id:"generated-components",children:"Generated Components"}),`
`,e.jsx("div",{children:e.jsxs(t.p,{children:[e.jsx("strong",{children:"Generated Components:"})," ",g.coverage.covered," of ",g.coverage.total,` generated (
`,e.jsxs("strong",{children:[g.coverage.percent,"%"]}),")"]})}),`
`,e.jsxs("p",{style:{marginTop:8},children:[e.jsxs(t.p,{children:[`This section lists the generated components we build to stress the compiler. Each row is one component with a
unique combination of decorator options (`,e.jsx("code",{children:"type"})," Ã— ",e.jsx("code",{children:"hasDefault"}),`). If a combo fails to compile,
we capture that as a rule in `,e.jsx("code",{children:"rules.json"}),`, update the list, and regenerate. Use the button to expand or
collapse the full list.`]}),e.jsx("br",{})]}),`
`,`
`,e.jsx(R,{}),`
`,e.jsx(t.hr,{}),`
`,e.jsx(t.h2,{id:"test-categories",children:"Test Categories"}),`
`,e.jsxs(t.h3,{id:"-basic-types-1--1-test-case",children:[e.jsx(t.strong,{children:"ðŸŸ¢ Basic Types (1)"})," â€” 1 test case"]}),`
`,e.jsx(t.p,{children:"Foundation patterns for primitive state types (string, number, boolean), covering reactive updates and DOM rendering."}),`
`,e.jsxs(t.h3,{id:"-complex-types-2--1-test-case",children:[e.jsx(t.strong,{children:"ðŸŸ¡ Complex Types (2)"})," â€” 1 test case"]}),`
`,e.jsx(t.p,{children:"Complex state types (any, array, object) with static render validation and default value handling."}),`
`,e.jsx(t.hr,{}),`
`,`
`,(()=>{const d=j.items||[],i=o=>d.filter(h=>o.has(h.group)),n=new Set(["string","number","boolean"]),l=new Set(["any","array","object"]),s=i(n),p=i(l),x=o=>{const h=new Set;for(const a of o)for(const u of a.caseIds||[])h.add(u);return Array.from(h).sort((a,u)=>a-u)},m=x(s),c=x(p);return m.length>0&&c.length>0?null:e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"ðŸ“‹ TODO - Remaining Test Cases"}),e.jsx(N,{})]})})(),`
`,e.jsx(t.hr,{}),`
`,e.jsx(t.h2,{id:"component-grouping",children:"Component Grouping"}),`
`,e.jsxs(t.p,{children:["Generated components are organized by state type under ",e.jsx(t.code,{children:"test/wdio/state/components/"}),":"]}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"string/"})," â€” string state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"number/"})," â€” numeric state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"boolean/"})," â€” boolean state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"array/"})," â€” array state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"object/"})," â€” object state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"any/"})," â€” untyped or mixed state values"]}),`
`]})]})}function q(r={}){const{wrapper:t}={...v(),...r.components};return t?e.jsx(t,{...r,children:e.jsx(b,{...r})}):b(r)}export{P as StateCoverageSummary,R as StateGeneratedComponents,N as StateTODOSection,k as StateTestCasesTable,q as default};
