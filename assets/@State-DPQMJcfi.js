import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{useMDXComponents as j}from"./index-LEn82Xdr.js";import{M as f}from"./blocks-Be46xOuq.js";import{d as u}from"./coverage-data-BL23zIMU.js";import"./iframe-CUSS-ND5.js";import"./preload-helper-D9Z9MdNV.js";import"./index-CqKsMeIy.js";const g={type:["string","number","boolean","array","object","any"],hasDefault:[!0,!1]},m=[{name:"string",when:{type:"string"}},{name:"number",when:{type:"number"}},{name:"boolean",when:{type:"boolean"}},{name:"array",when:{type:"array"}},{name:"object",when:{type:"object"}},{name:"any",when:{type:"any"}}],x={options:g,modes:m},b=[{group:"string",options:{type:"string",hasDefault:!1},files:["string/state-string-no-default.tsx"],tag:"state-string-no-default",tested:!0,testedBy:["mutates string (no default) and updates DOM"]},{group:"string",options:{type:"string",hasDefault:!0},files:["string/state-string-default.tsx"],tag:"state-string-default",tested:!0,testedBy:["mutates string (default) and updates DOM"]},{group:"object",options:{type:"object",hasDefault:!1},files:["object/state-object-no-default.tsx"],tag:"state-object-no-default",tested:!0,testedBy:["renders object (no default) statically"]},{group:"object",options:{type:"object",hasDefault:!0},files:["object/state-object-default.tsx"],tag:"state-object-default",tested:!0,testedBy:["renders object (default) statically"]},{group:"number",options:{type:"number",hasDefault:!1},files:["number/state-number-no-default.tsx"],tag:"state-number-no-default",tested:!0,testedBy:["mutates number (no default) and updates DOM"]},{group:"number",options:{type:"number",hasDefault:!0},files:["number/state-number-default.tsx"],tag:"state-number-default",tested:!0,testedBy:["mutates number (default) and updates DOM"]},{group:"boolean",options:{type:"boolean",hasDefault:!1},files:["boolean/state-boolean-no-default.tsx"],tag:"state-boolean-no-default",tested:!0,testedBy:["mutates boolean (no default) and updates DOM"]},{group:"boolean",options:{type:"boolean",hasDefault:!0},files:["boolean/state-boolean-default.tsx"],tag:"state-boolean-default",tested:!0,testedBy:["mutates boolean (default) and updates DOM"]},{group:"array",options:{type:"array",hasDefault:!1},files:["array/state-array-no-default.tsx"],tag:"state-array-no-default",tested:!0,testedBy:["renders array (no default) statically"]},{group:"array",options:{type:"array",hasDefault:!0},files:["array/state-array-default.tsx"],tag:"state-array-default",tested:!0,testedBy:["renders array (default) statically"]},{group:"any",options:{type:"any",hasDefault:!1},files:["any/state-any-no-default.tsx"],tag:"state-any-no-default",tested:!0,testedBy:["renders any (no default) statically"]},{group:"any",options:{type:"any",hasDefault:!0},files:["any/state-any-default.tsx"],tag:"state-any-default",tested:!0,testedBy:["renders any (default) statically"]}],p={items:b};function y(l){const t={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...j(),...l.components};return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Testing/Decorators/@State"}),`
`,e.jsx(t.h1,{id:"state-testing-matrix",children:"@State Testing Matrix"}),`
`,e.jsxs(t.p,{children:["The ",e.jsx(t.code,{children:"@State"})," decorator is used to manage internal state for a component. When a state property changes, the component will re-render. This matrix tracks the test coverage for different types and configurations of the ",e.jsx(t.code,{children:"@State"})," decorator."]}),`
`,e.jsx(t.h2,{id:"rules-at-a-glance",children:"Rules (at a glance)"}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:["Options under test: ",Object.keys(x.options).join(", "),"."]}),`
`,e.jsxs(t.li,{children:["No mutually exclusive option groups for ",e.jsx(t.code,{children:"@State"}),"."]}),`
`,e.jsxs(t.li,{children:["Render modes: ",x.modes.map(o=>o.name).join(", "),"."]}),`
`,e.jsxs(t.li,{children:["Matrix conventions: generated examples are grouped by state type under ",e.jsx(t.code,{children:"test/wdio/state/matrix/<type>"}),"; files live directly in the type subfolder (e.g., ",e.jsx(t.code,{children:"string/"}),", ",e.jsx(t.code,{children:"number/"}),")."]}),`
`]}),`
`,e.jsx(t.h2,{id:"state-characteristics",children:"State Characteristics"}),`
`,e.jsxs(t.p,{children:["The ",e.jsx(t.code,{children:"@State"})," decorator is used for managing internal data that can change over time. Unlike ",e.jsx(t.code,{children:"@Prop"}),", state is not meant to be passed in from a parent component."]}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:[e.jsx(t.strong,{children:"Type"}),": ",e.jsx(t.code,{children:"@State"})," can be used with any standard data type, such as ",e.jsx(t.code,{children:"string"}),", ",e.jsx(t.code,{children:"number"}),", ",e.jsx(t.code,{children:"boolean"}),", ",e.jsx(t.code,{children:"array"}),", ",e.jsx(t.code,{children:"object"}),", or ",e.jsx(t.code,{children:"any"}),". The type can be explicitly annotated or inferred from the initial value."]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.strong,{children:"Default Value"}),": A state property can be initialized with a default value. If no default value is provided, it will be ",e.jsx(t.code,{children:"undefined"}),". Tests cover both scenarios to ensure the component behaves correctly."]}),`
`]}),`
`,e.jsx(t.h2,{id:"rendering-modes-and-matrix-grouping",children:"Rendering Modes and Matrix Grouping"}),`
`,e.jsxs(t.p,{children:["To simplify navigation of the generated matrix, components are organized by state type under ",e.jsx(t.code,{children:"test/wdio/state/matrix/"}),":"]}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"string/"})," — string state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"number/"})," — numeric state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"boolean/"})," — boolean state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"array/"})," — array state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"object/"})," — object state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"any/"})," — untyped or mixed state values"]}),`
`]}),`
`,e.jsx(t.h2,{id:"test-case-summary",children:"Test Case Summary"}),`
`,(()=>{const o=p.items||[],s=d=>o.filter(r=>d.has(r.group)),i=d=>({tested:d.filter(r=>r.tested).length,total:d.length}),h=new Set(["string","number","boolean"]),c=new Set(["any","array","object"]),n=i(s(h)),a=i(s(c));return e.jsx("div",{style:{maxWidth:"100%",width:"100%",background:"#fff"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"55%"}}),e.jsx("col",{style:{width:"20%"}}),e.jsx("col",{style:{width:"10%"}}),e.jsx("col",{style:{width:"15%"}})]}),e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f2f2f2"},children:[e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"Test Case"}),e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"Permutations Covered"}),e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:"Status"}),e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"Test Folder"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd"},children:["Button click mutates a primitive ",e.jsx("code",{children:"@State"})," value and updates DOM output."]}),e.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd"},children:["type: string | number | boolean × default: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",n.tested,"/",n.total]})]}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:e.jsx("span",{style:{color:n.tested===n.total?"green":"#d00"},children:n.tested===n.total?"✔":"✗"})}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.jsx("code",{children:"test/wdio/state/tests"})})]}),e.jsxs("tr",{style:{background:"#f9f9f9"},children:[e.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd"},children:["Static render validation for complex types (",e.jsx("code",{children:"any"}),", ",e.jsx("code",{children:"array"}),", ",e.jsx("code",{children:"object"}),") with and without defaults."]}),e.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd"},children:["type: any | array | object × default: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",a.tested,"/",a.total]})]}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:e.jsx("span",{style:{color:a.tested===a.total?"green":"#d00"},children:a.tested===a.total?"✔":"✗"})}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.jsx("code",{children:"test/wdio/state/tests"})})]})]})]})})})(),`
`,e.jsx(t.h2,{id:"covered-permutations",children:"Covered Permutations"}),`
`,e.jsx("div",{children:e.jsxs(t.p,{children:[e.jsx("strong",{children:"Permutation Coverage:"})," ",u.coverage.covered,"/",u.coverage.total,` permutations covered (
`,e.jsxs("strong",{children:[u.coverage.percent,"%"]}),")"]})}),`
`,(()=>{const o=new Map((p.items||[]).map(s=>[`${s.options.type},${String(s.options.hasDefault)}`,s]));return e.jsx("div",{style:{maxWidth:"100%",width:"100%",background:"#fff"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"22%"}}),e.jsx("col",{style:{width:"22%"}}),e.jsx("col",{style:{width:"12%"}}),e.jsx("col",{style:{width:"44%"}})]}),e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Has Default Value"}),e.jsx("th",{children:"Tested"}),e.jsx("th",{children:"Test Cases"})]})}),e.jsx("tbody",{children:u.coveredPermutations.map((s,i)=>{const h=`${s.options[0]},${s.options[1]}`,c=o.get(h),n=c?.tested,a=c?.testedBy||[];return e.jsxs("tr",{style:{background:n?"#fbfffb":"#fff9f9"},children:[s.options.map((d,r)=>e.jsx("td",{children:d},r)),e.jsx("td",{style:{textAlign:"center"},children:n?e.jsx("span",{style:{color:"green"},children:"✔"}):e.jsx("span",{style:{color:"red"},children:"✗"})}),e.jsx("td",{children:a.length?e.jsx("ul",{style:{margin:0,paddingLeft:16},children:a.map((d,r)=>e.jsx("li",{children:d},r))}):e.jsx("em",{children:"—"})})]},i)})})]})})})()]})}function C(l={}){const{wrapper:t}={...j(),...l.components};return t?e.jsx(t,{...l,children:e.jsx(y,{...l})}):y(l)}export{C as default};
