import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{useMDXComponents as b}from"./index-Dx_hR-Ta.js";import{M}from"./blocks-C75T4PbY.js";import{m as v}from"./test-coverage-Cx4e4oQP.js";import{r as I}from"./iframe-Cg0s360y.js";import{R as D}from"./RulesAtAGlance-NDdNKSQQ.js";import{T as A}from"./TestCasesTable-BPp7WHkK.js";import{G as P}from"./GeneratedComponentsTable-D3V1oGs6.js";import"./preload-helper-D9Z9MdNV.js";import"./index-BLRaQ8_L.js";const O="@Method",B={returns:["void","value","promise"],async:["âœ“","âœ—"],args:["none","one"]},k=[],z=[{name:"void",when:{returns:"void"}},{name:"value",when:{returns:"value"}},{name:"promise",when:{returns:"promise"}}],G={naming:{prefix:"method",includeOptions:["returns","async","args"]}},R={decorator:O,options:B,exclusiveGroups:k,modes:z,emit:G},F={covered:8,total:8,percent:"100.0"},V=[{options:["void","âœ“","none"],count:1,files:["void/method-void-async-true-args-none.tsx"]},{options:["void","âœ“","one"],count:1,files:["void/method-void-async-true-args-one.tsx"]},{options:["value","âœ“","none"],count:1,files:["value/method-value-async-true-args-none.tsx"]},{options:["value","âœ“","one"],count:1,files:["value/method-value-async-true-args-one.tsx"]},{options:["promise","âœ—","none"],count:1,files:["promise/method-promise-async-false-args-none.tsx"]},{options:["promise","âœ—","one"],count:1,files:["promise/method-promise-async-false-args-one.tsx"]},{options:["promise","âœ“","none"],count:1,files:["promise/method-promise-async-true-args-none.tsx"]},{options:["promise","âœ“","one"],count:1,files:["promise/method-promise-async-true-args-one.tsx"]}],j={coverage:F,coveredPermutations:V},N=()=>{const t=v.testCaseStatus||{},s=Object.values(t),l=s.filter(r=>r.implemented).length,n=s.length||3,o=n>0?Math.round(l/n*100):0,m=s.reduce((r,i)=>r+(i.testCount||0),0);return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",marginBottom:"32px"},children:[e.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",border:"2px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Test Cases Implemented"}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:"#111827",lineHeight:"1",marginBottom:"6px"},children:[l,e.jsxs("span",{style:{color:"#d1d5db"},children:["/",n]})]}),e.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:[o,"% complete"]})]}),e.jsxs("div",{style:{background:"#f0fdf4",padding:"20px",borderRadius:"8px",border:"2px solid #86efac",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#15803d",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Total Tests Passing"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#16a34a",lineHeight:"1",marginBottom:"6px"},children:m}),e.jsx("div",{style:{fontSize:"13px",color:"#15803d",marginBottom:"8px"},children:"All tests passing âœ“"}),e.jsxs("div",{style:{fontSize:"11px",color:"#15803d",opacity:.8,borderTop:"1px solid #86efac",paddingTop:"8px",marginTop:"8px"},children:["ðŸ“… Last run: ",new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})]})]})]})},L=()=>{const t=v.items||[],s=g=>t.filter(f=>g.has(f.group)),l=g=>({tested:g.filter(f=>f.tested).length,total:g.length}),n=new Set(["promise"]),o=new Set(["value"]),m=new Set(["void"]),r=l(s(n)),i=l(s(o)),u=l(s(m)),d=g=>{const f=new Set;for(const y of g)for(const w of y.caseIds||[])f.add(w);return Array.from(f).sort((y,w)=>y-w)},c=d(s(n)),a=d(s(o)),p=d(s(m)),h=c.length>0,x=a.length>0,S=p.length>0,T=[{id:1,implemented:h,desc:"Promise methods expose public API and update DOM after resolution across different async configurations and argument patterns.",types:e.jsxs(e.Fragment,{children:["returns: promise Ã— async: true/false Ã— args: none/one",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",r.tested,"/",r.total]})]}),tested:r.tested,total:r.total,section:h?"implemented":"missing"},{id:2,implemented:x,desc:"Value-returning methods provide immediate results and update component state synchronously.",types:e.jsxs(e.Fragment,{children:["returns: value Ã— async: true Ã— args: none/one",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",i.tested,"/",i.total]})]}),tested:i.tested,total:i.total,section:x?"implemented":"missing"},{id:3,implemented:S,desc:"Void methods trigger side effects without return values, updating internal state via async lifecycle.",types:e.jsxs(e.Fragment,{children:["returns: void Ã— async: true Ã— args: none/one",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",u.tested,"/",u.total]})]}),tested:u.tested,total:u.total,section:S?"implemented":"missing"}];return e.jsx(A,{rows:T,previewCount:3})},W=()=>{const t=I.useMemo(()=>{const l=v.items||[],n=new Map(l.map(o=>[o.optionsKey,o]));return(j.coveredPermutations||[]).map((o,m)=>{const[r,i,u]=o.options||[],d=(o.options||[]).join("|"),c=n.get(d)||{},a=Array.isArray(c.caseIds)?[...c.caseIds].sort((p,h)=>p-h):[];return{index:m,returns:r,async:i,args:u,caseNumbers:a}})},[]),s=[{key:"returns",label:"Returns",width:"25%"},{key:"async",label:"Async",width:"20%"},{key:"args",label:"Args",width:"20%"},{key:"testedBy",label:"Tested By",width:"35%"}];return e.jsx(P,{rows:t,columns:s,previewCount:3})},E=()=>{const t=v.items||[],s=c=>t.filter(a=>c.has(a.group)),l=new Set(["promise"]),n=new Set(["value"]),o=new Set(["void"]),m=c=>{const a=new Set;for(const p of c)for(const h of p.caseIds||[])a.add(h);return Array.from(a).sort((p,h)=>p-h)},r=m(s(l)),i=m(s(n)),u=m(s(o)),d=[];return r.length===0&&d.push({id:1,desc:"Promise methods - expose public API and update DOM after resolution"}),i.length===0&&d.push({id:2,desc:"Value-returning methods - provide immediate results and update component state synchronously"}),u.length===0&&d.push({id:3,desc:"Void methods - trigger side effects without return values"}),d.length===0?null:e.jsx("div",{children:d.map(({id:c,desc:a})=>e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("strong",{children:["Test Case #",c," TODO"]}),": ",a]},c))})};function C(t){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...b(),...t.components};return e.jsxs(e.Fragment,{children:[e.jsx(M,{title:"Testing/Decorators/@Method"}),`
`,e.jsx(s.h1,{id:"method-decorator",children:"@Method Decorator"}),`
`,e.jsxs(s.p,{children:["The ",e.jsx(s.code,{children:"@Method"})," decorator exposes public instance methods on a Stencil component. This page documents the test coverage, patterns, generated components, and implementation status."]}),`
`,e.jsx(s.h2,{id:"decorator-properties",children:"Decorator Properties"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsx(s.li,{children:"returns: void | value | promise"}),`
`,e.jsx(s.li,{children:"async: marks the method async (affects return type when returning a promise)"}),`
`,e.jsx(s.li,{children:"args: none | one"}),`
`]}),`
`,e.jsx(s.h2,{id:"rules-at-a-glance",children:"Rules (at a glance)"}),`
`,e.jsx(D,{rules:R,sourcePath:"./data/rules.json",modeLabel:"Return kind"}),`
`,e.jsx(s.h2,{id:"test-cases",children:"Test Cases"}),`
`,e.jsxs(s.p,{children:["Test cases are organized by ",e.jsx(s.strong,{children:"return type"})," - from promise-returning methods to void methods. All ",e.jsx(s.code,{children:"@Method"})," tests reside under ",e.jsx("code",{children:"test/wdio/method"}),"."]}),`
`,`
`,e.jsx(N,{}),`
`,`
`,e.jsx(L,{}),`
`,e.jsx(s.h2,{id:"generated-components",children:"Generated Components"}),`
`,e.jsx("div",{children:e.jsxs(s.p,{children:[e.jsx("strong",{children:"Generated Components:"})," ",j.coverage.covered," of ",j.coverage.total,` generated (
`,e.jsxs("strong",{children:[j.coverage.percent,"%"]}),")"]})}),`
`,e.jsx("p",{style:{marginTop:8},children:e.jsxs(s.p,{children:[`This section lists the generated components we build to stress the compiler. Each row is one component with a
unique combination of decorator options (`,e.jsx("code",{children:"returns"})," Ã— ",e.jsx("code",{children:"async"})," Ã— ",e.jsx("code",{children:"args"}),`). If a combo fails to compile,
we capture that as a rule in `,e.jsx("code",{children:"rules.json"}),`, update the list, and regenerate. The "Tested By" column reflects which
highâ€‘level test cases cover each component.`]})}),`
`,`
`,e.jsx(W,{}),`
`,e.jsx(s.hr,{}),`
`,e.jsx(s.h2,{id:"test-categories",children:"Test Categories"}),`
`,e.jsxs(s.h3,{id:"-promise-methods-1--1-test-case",children:[e.jsx(s.strong,{children:"ðŸŸ¡ Promise Methods (1)"})," â€” 1 test case"]}),`
`,e.jsx(s.p,{children:"Promise-returning methods that expose public API and update DOM after resolution, covering async configurations and argument patterns."}),`
`,e.jsxs(s.h3,{id:"-value-methods-2--1-test-case",children:[e.jsx(s.strong,{children:"ðŸŸ¡ Value Methods (2)"})," â€” 1 test case"]}),`
`,e.jsx(s.p,{children:"Value-returning methods that provide immediate results and update component state synchronously."}),`
`,e.jsxs(s.h3,{id:"-void-methods-3--1-test-case",children:[e.jsx(s.strong,{children:"ðŸŸ¡ Void Methods (3)"})," â€” 1 test case"]}),`
`,e.jsx(s.p,{children:"Void methods that trigger side effects without return values, updating internal state via async lifecycle."}),`
`,e.jsx(s.hr,{}),`
`,`
`,(()=>{const l=v.items||[],n=a=>l.filter(p=>a.has(p.group)),o=new Set(["promise"]),m=new Set(["value"]),r=new Set(["void"]),i=a=>{const p=new Set;for(const h of a)for(const x of h.caseIds||[])p.add(x);return Array.from(p).sort((h,x)=>h-x)},u=i(n(o)),d=i(n(m)),c=i(n(r));return u.length>0&&d.length>0&&c.length>0?null:e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"ðŸ“‹ TODO - Remaining Test Cases"}),e.jsx(E,{})]})})(),`
`,e.jsx(s.hr,{}),`
`,e.jsx(s.h2,{id:"component-grouping",children:"Component Grouping"}),`
`,e.jsxs(s.p,{children:["Generated components are organized by return type under ",e.jsx(s.code,{children:"test/wdio/method/components/"}),":"]}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"void/"})," â€” void-returning methods"]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"value/"})," â€” value-returning methods"]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"promise/"})," â€” promise-returning methods"]}),`
`]})]})}function $(t={}){const{wrapper:s}={...b(),...t.components};return s?e.jsx(s,{...t,children:e.jsx(C,{...t})}):C(t)}export{N as MethodCoverageSummary,W as MethodGeneratedComponents,E as MethodTODOSection,L as MethodTestCasesTable,$ as default};
