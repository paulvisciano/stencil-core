import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{useMDXComponents as y}from"./index-D-iNwUTw.js";import{M as f}from"./blocks-cDThjR1y.js";import{m as i}from"./coverage-data-CP2-8aKl.js";import{r as u}from"./iframe-BQbRq0hK.js";import{R as v}from"./RulesAtAGlance-HuOa_0MN.js";import"./preload-helper-D9Z9MdNV.js";import"./index-cEMhdOia.js";const b="@Method",w={returns:["void","value","promise"],async:["✓","✗"],args:["none","one"]},C=[],T=[{name:"void",when:{returns:"void"}},{name:"value",when:{returns:"value"}},{name:"promise",when:{returns:"promise"}}],k={naming:{prefix:"method",includeOptions:["returns","async","args"]}},M={decorator:b,options:w,exclusiveGroups:C,modes:T,emit:k},B=[{group:"promise",options:{returns:"promise",async:"✗",args:"none"},optionsKey:"promise|✗|none",files:["promise/method-promise-async-false-none.tsx"],tag:"method-promise-async-false-none",tested:!1,testedBy:[]},{group:"promise",options:{returns:"promise",async:"✗",args:"one"},optionsKey:"promise|✗|one",files:["promise/method-promise-async-false-one.tsx"],tag:"method-promise-async-false-one",tested:!1,testedBy:[]},{group:"promise",options:{returns:"promise",async:"✓",args:"none"},optionsKey:"promise|✓|none",files:["promise/method-promise-async-none.tsx"],tag:"method-promise-async-none",tested:!1,testedBy:[]},{group:"promise",options:{returns:"promise",async:"✓",args:"one"},optionsKey:"promise|✓|one",files:["promise/method-promise-async-one.tsx"],tag:"method-promise-async-one",tested:!1,testedBy:[]},{group:"value",options:{returns:"value",async:"✓",args:"none"},optionsKey:"value|✓|none",files:["value/method-value-async-none.tsx"],tag:"method-value-async-none",tested:!1,testedBy:[]},{group:"value",options:{returns:"value",async:"✓",args:"one"},optionsKey:"value|✓|one",files:["value/method-value-async-one.tsx"],tag:"method-value-async-one",tested:!1,testedBy:[]},{group:"void",options:{returns:"void",async:"✓",args:"none"},optionsKey:"void|✓|none",files:["void/method-void-async-none.tsx"],tag:"method-void-async-none",tested:!1,testedBy:[]},{group:"void",options:{returns:"void",async:"✓",args:"one"},optionsKey:"void|✓|one",files:["void/method-void-async-one.tsx"],tag:"method-void-async-one",tested:!1,testedBy:[]}],K={items:B},D=()=>{const[o,s]=u.useState(!1),d=u.useMemo(()=>{const t=K.items||[];return(i.coveredPermutations||[]).map((n,l)=>{const[r,p,h]=n.options||[],g=`${r}|${p}|${h}`,m=t.find(j=>j.optionsKey===g)||{};return{index:l,returns:r,async:p,args:h,tested:!!m.tested,tests:m.testedBy||[]}})},[]),a=d.length,c=t=>e.jsx("div",{style:{maxWidth:"100%",width:"100%",background:"#fff"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"30%"}}),e.jsx("col",{style:{width:"20%"}}),e.jsx("col",{style:{width:"20%"}}),e.jsx("col",{style:{width:"10%"}}),e.jsx("col",{style:{width:"20%"}})]}),e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"returns"}),e.jsx("th",{children:"async"}),e.jsx("th",{children:"args"}),e.jsx("th",{style:{textAlign:"center"},children:"Tested"}),e.jsx("th",{children:"Test Cases"})]})}),e.jsx("tbody",{children:t.map(n=>e.jsxs("tr",{style:{background:n.tested?"#fbfffb":"#fff"},children:[e.jsx("td",{children:n.returns}),e.jsx("td",{children:n.async}),e.jsx("td",{children:n.args}),e.jsx("td",{style:{textAlign:"center"},children:n.tested?e.jsx("span",{style:{color:"green"},children:"✔"}):e.jsx("span",{style:{color:"#999"},children:"—"})}),e.jsx("td",{children:n.tests.length?e.jsx("ul",{style:{margin:0,paddingLeft:16},children:n.tests.map((l,r)=>e.jsx("li",{children:l},r))}):e.jsx("em",{children:"—"})})]},n.index))})]})});if(!o){const t=d.slice(0,3);return e.jsxs("div",{style:{position:"relative"},children:[c(t),a>3&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:40,height:48,background:"linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 90%)",pointerEvents:"none"}}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:-8},children:e.jsxs("button",{onClick:()=>s(!0),style:{padding:"6px 12px",border:"1px solid #ddd",background:"#f8f8f8",borderRadius:4,cursor:"pointer",fontSize:12},"aria-label":`Show all ${a} components`,children:["Show all ",a," components"]})})]})]})}return e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:8},children:e.jsx("button",{onClick:()=>s(!1),style:{padding:"6px 12px",border:"1px solid #ddd",background:"#f8f8f8",borderRadius:4,cursor:"pointer",fontSize:12},"aria-label":"Collapse components table",children:"Collapse table"})}),c(d)]})};function x(o){const s={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...y(),...o.components};return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Testing/Decorators/@Method"}),`
`,e.jsx(s.h1,{id:"method-decorator",children:"@Method Decorator"}),`
`,e.jsxs(s.p,{children:["The ",e.jsx(s.code,{children:"@Method"})," decorator exposes public instance methods on a Stencil component."]}),`
`,e.jsx(s.h2,{id:"decorator-properties",children:"Decorator Properties"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsx(s.li,{children:"returns: void | value | promise"}),`
`,e.jsx(s.li,{children:"async: marks the method async (affects return type when returning a promise)"}),`
`,e.jsx(s.li,{children:"args: none | one"}),`
`]}),`
`,e.jsx(s.h2,{id:"rules-at-a-glance",children:"Rules (at a glance)"}),`
`,e.jsx(v,{rules:M,sourcePath:"./rules.json",modeLabel:"Return kind"}),`
`,e.jsx(s.h2,{id:"generated-components",children:"Generated Components"}),`
`,e.jsx("div",{children:e.jsxs(s.p,{children:[e.jsx("strong",{children:"Generated Components:"})," ",i.coverage.covered," of ",i.coverage.total,` generated (
`,e.jsxs("strong",{children:[i.coverage.percent,"%"]}),")"]})}),`
`,e.jsx("p",{style:{marginTop:8},children:e.jsxs(s.p,{children:["One row per unique combination of ",e.jsx("code",{children:"returns"})," × ",e.jsx("code",{children:"async"})," × ",e.jsx("code",{children:"args"}),`.
The “Tested / Test Cases” column is populated in Phase 2.`]})}),`
`,`
`,e.jsx(D,{}),`
`,e.jsx(s.h2,{id:"component-grouping",children:"Component Grouping"}),`
`,e.jsxs(s.p,{children:["Components are grouped by return kind under ",e.jsx(s.code,{children:"test/wdio/method/matrix/<void|value|promise>/"}),"."]}),`
`,e.jsx(s.h2,{id:"test-cases",children:"Test Cases"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:["Phase 2 placeholder: tests will be propagated across generated components and recorded in ",e.jsx(s.code,{children:"coverage-overlay.json"}),"."]}),`
`]})]})}function X(o={}){const{wrapper:s}={...y(),...o.components};return s?e.jsx(s,{...o,children:e.jsx(x,{...o})}):x(o)}export{D as GeneratedComponentsTable,X as default};
