import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{useMDXComponents as b}from"./index-Bpjpk8ZK.js";import{M as w}from"./blocks-BLFg5S-i.js";import{o as g}from"./test-coverage-DD4fwNCt.js";import{r as T}from"./iframe-DWOLDdAi.js";import{R as C}from"./RulesAtAGlance-CUF76L4G.js";import{T as S}from"./TestCasesTable-vF5Rzpdu.js";import{G as D}from"./GeneratedComponentsTable-BDdldcXV.js";import"./preload-helper-D9Z9MdNV.js";import"./index-0Ea0Bo0A.js";const G="@State",I={type:["string","number","boolean","array","object","any"],hasDefault:[!0,!1]},M=[],A=[{name:"string",when:{type:"string"}},{name:"number",when:{type:"number"}},{name:"boolean",when:{type:"boolean"}},{name:"array",when:{type:"array"}},{name:"object",when:{type:"object"}},{name:"any",when:{type:"any"}}],k={naming:{prefix:"state",includeOptions:["type","hasDefault"]}},F={decorator:G,options:I,exclusiveGroups:M,modes:A,emit:k},P={covered:12,total:12,percent:"100.00"},B=[{options:["string","false"],count:1,files:["string/state-string-no-default.tsx"]},{options:["string","true"],count:1,files:["string/state-string-default.tsx"]},{options:["object","false"],count:1,files:["object/state-object-no-default.tsx"]},{options:["object","true"],count:1,files:["object/state-object-default.tsx"]},{options:["number","false"],count:1,files:["number/state-number-no-default.tsx"]},{options:["number","true"],count:1,files:["number/state-number-default.tsx"]},{options:["boolean","false"],count:1,files:["boolean/state-boolean-no-default.tsx"]},{options:["boolean","true"],count:1,files:["boolean/state-boolean-default.tsx"]},{options:["array","false"],count:1,files:["array/state-array-no-default.tsx"]},{options:["array","true"],count:1,files:["array/state-array-default.tsx"]},{options:["any","false"],count:1,files:["any/state-any-no-default.tsx"]},{options:["any","true"],count:1,files:["any/state-any-default.tsx"]}],h={coverage:P,coveredPermutations:B},R=()=>{const n=g.items||[],t=r=>n.filter(c=>r.has(c.group)),l=r=>({tested:r.filter(c=>c.tested).length,total:r.length}),d=new Set(["string","number","boolean"]),s=new Set(["any","array","object"]),a=l(t(d)),o=l(t(s)),i=r=>{const c=new Set;for(const j of r)for(const f of j.caseIds||[])c.add(f);return Array.from(c).sort((j,f)=>j-f)},p=i(t(d)),u=i(t(s)),m=p.length>0,x=u.length>0,v=[{id:1,implemented:m,desc:e.jsxs(e.Fragment,{children:["Button click mutates a primitive ",e.jsx("code",{children:"@State"})," value and updates DOM output."]}),types:e.jsxs(e.Fragment,{children:["type: string | number | boolean × default: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",a.tested,"/",a.total]})]}),tested:a.tested,total:a.total},{id:2,implemented:x,desc:e.jsxs(e.Fragment,{children:["Static render validation for complex types (",e.jsx("code",{children:"any"}),", ",e.jsx("code",{children:"array"}),", ",e.jsx("code",{children:"object"}),") with and without defaults.",e.jsx("br",{}),e.jsxs("small",{children:["Tests: ",u.length?o.total:0]})]}),types:e.jsxs(e.Fragment,{children:["type: any | array | object × default: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",o.tested,"/",o.total]})]}),tested:o.tested,total:o.total}];return e.jsx(S,{rows:v,previewCount:2})},$=()=>{const n=T.useMemo(()=>{const l=g.items||[],d=new Map(l.map(s=>[`${s.options?.type},${String(s.options?.hasDefault)}`,s]));return(h.coveredPermutations||[]).map((s,a)=>{const o=s.options?.[0],i=s.options?.[1],p=d.get(`${o},${i}`)||{},u=Array.isArray(p.caseIds)?[...p.caseIds].sort((m,x)=>m-x):[];return{index:a,type:o,hasDefault:i,caseNumbers:u}})},[]),t=[{key:"type",label:"Type",width:"25%"},{key:"hasDefault",label:"Has Default Value",width:"25%"},{key:"testedBy",label:"Tested By",width:"50%"}];return e.jsx(D,{rows:n,columns:t,previewCount:3})};function y(n){const t={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...b(),...n.components};return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Testing/Decorators/@State"}),`
`,e.jsx(t.h1,{id:"state-decorator",children:"@State Decorator"}),`
`,e.jsxs(t.p,{children:["The ",e.jsx(t.code,{children:"@State"})," decorator manages internal state for a component. When a state property changes, the component re-renders."]}),`
`,e.jsx(t.h2,{id:"decorator-properties",children:"Decorator Properties"}),`
`,e.jsxs(t.p,{children:["The ",e.jsx(t.code,{children:"@State"})," decorator is used for managing internal data that can change over time. Unlike ",e.jsx(t.code,{children:"@Prop"}),", state is not meant to be passed in from a parent component."]}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:[e.jsx(t.strong,{children:"Type"}),": ",e.jsx(t.code,{children:"@State"})," can be used with standard data types, such as ",e.jsx(t.code,{children:"string"}),", ",e.jsx(t.code,{children:"number"}),", ",e.jsx(t.code,{children:"boolean"}),", ",e.jsx(t.code,{children:"array"}),", ",e.jsx(t.code,{children:"object"}),", or ",e.jsx(t.code,{children:"any"}),". The type can be explicitly annotated or inferred from the initial value."]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.strong,{children:"Default Value"}),": A state property can be initialized with a default value. If no default value is provided, it will be ",e.jsx(t.code,{children:"undefined"}),". Generation covers both scenarios to ensure the component compiles correctly."]}),`
`]}),`
`,e.jsx(t.h2,{id:"rules-at-a-glance",children:"Rules (at a glance)"}),`
`,e.jsx(C,{rules:F,sourcePath:"./data/rules.json",modeLabel:"State type"}),`
`,e.jsx(t.h2,{id:"test-cases",children:"Test Cases"}),`
`,e.jsxs(t.p,{children:["Note: Test cases are high‑level scenarios, not a 1‑to‑1 mapping to tests (it() blocks). A single WDIO test can exercise many generated components, and a component can participate in multiple tests. The “Tested By” column in the Generated Components table shows which case(s) (#1, #2) each component is covered by. All @State tests reside under ",e.jsx("code",{children:"test/wdio/state"}),"."]}),`
`,`
`,e.jsx(R,{}),`
`,e.jsx(t.h2,{id:"generated-components",children:"Generated Components"}),`
`,e.jsx("div",{children:e.jsxs(t.p,{children:[e.jsx("strong",{children:"Generated Components:"})," ",h.coverage.covered," of ",h.coverage.total,` generated (
`,e.jsxs("strong",{children:[h.coverage.percent,"%"]}),")"]})}),`
`,e.jsxs("p",{style:{marginTop:8},children:[e.jsxs(t.p,{children:[`This section lists the generated components we build to stress the compiler. Each row is one component with a
unique combination of decorator options (`,e.jsx("code",{children:"type"})," × ",e.jsx("code",{children:"hasDefault"}),`). If a combo fails to compile,
we capture that as a rule in `,e.jsx("code",{children:"rules.json"}),`, update the list, and regenerate. Use the button to expand or
collapse the full list.`]}),e.jsx("br",{})]}),`
`,`
`,e.jsx($,{}),`
`,e.jsx(t.h2,{id:"component-grouping",children:"Component Grouping"}),`
`,e.jsxs(t.p,{children:["Generated components are organized by state type under ",e.jsx(t.code,{children:"test/wdio/state/components/"}),":"]}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"string/"})," — string state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"number/"})," — numeric state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"boolean/"})," — boolean state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"array/"})," — array state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"object/"})," — object state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"any/"})," — untyped or mixed state values"]}),`
`]})]})}function q(n={}){const{wrapper:t}={...b(),...n.components};return t?e.jsx(t,{...n,children:e.jsx(y,{...n})}):y(n)}export{$ as StateGeneratedComponents,R as StateTestCasesTable,q as default};
