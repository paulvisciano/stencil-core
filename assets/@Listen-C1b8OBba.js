import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{useMDXComponents as x}from"./index-Dx_hR-Ta.js";import{M as g}from"./blocks-C75T4PbY.js";import{l as c}from"./test-coverage-Cg0tYC3b.js";import{r as y}from"./iframe-Cg0s360y.js";import{R as b}from"./RulesAtAGlance-NDdNKSQQ.js";import{T as j}from"./TestCasesTable-BPp7WHkK.js";import{G as k}from"./GeneratedComponentsTable-D3V1oGs6.js";import"./preload-helper-D9Z9MdNV.js";import"./index-BLRaQ8_L.js";const C="@Listen",T={target:["host","window","document","body"],event:["click","keydown","input"],capture:["âœ“","âœ—"],passive:["âœ“","âœ—"]},S=[],B=[{name:"host",when:{target:"host"}},{name:"window",when:{target:"window"}},{name:"document",when:{target:"document"}},{name:"body",when:{target:"body"}}],z={naming:{prefix:"listen",includeOptions:["target","event","capture","passive"]}},L={decorator:C,options:T,exclusiveGroups:S,modes:B,emit:z},G={covered:44,total:44,percent:"100.0"},P=[{options:["body","click-listen-body-click-capture-false-passive-false","âœ—","âœ—"],count:1,files:["body/listen-body-click-capture-false-passive-false.tsx"]},{options:["body","click-listen-body-click-capture-false-passive","âœ—","âœ“"],count:1,files:["body/listen-body-click-capture-false-passive.tsx"]},{options:["body","click-listen-body-click-capture-passive-false","âœ“","âœ—"],count:1,files:["body/listen-body-click-capture-passive-false.tsx"]},{options:["body","click-listen-body-click-capture-passive","âœ“","âœ“"],count:1,files:["body/listen-body-click-capture-passive.tsx"]},{options:["body","input-listen-body-input-capture-false-passive-false","âœ—","âœ—"],count:1,files:["body/listen-body-input-capture-false-passive-false.tsx"]},{options:["body","input-listen-body-input-capture-false-passive","âœ—","âœ“"],count:1,files:["body/listen-body-input-capture-false-passive.tsx"]},{options:["body","input-listen-body-input-capture-passive-false","âœ“","âœ—"],count:1,files:["body/listen-body-input-capture-passive-false.tsx"]},{options:["body","input-listen-body-input-capture-passive","âœ“","âœ“"],count:1,files:["body/listen-body-input-capture-passive.tsx"]},{options:["body","keydown-listen-body-keydown-capture-false-passive-false","âœ—","âœ—"],count:1,files:["body/listen-body-keydown-capture-false-passive-false.tsx"]},{options:["body","keydown-listen-body-keydown-capture-false-passive","âœ—","âœ“"],count:1,files:["body/listen-body-keydown-capture-false-passive.tsx"]},{options:["body","keydown-listen-body-keydown-capture-passive-false","âœ“","âœ—"],count:1,files:["body/listen-body-keydown-capture-passive-false.tsx"]},{options:["body","keydown-listen-body-keydown-capture-passive","âœ“","âœ“"],count:1,files:["body/listen-body-keydown-capture-passive.tsx"]},{options:["document","click-listen-document-click-capture-false-passive-false","âœ—","âœ—"],count:1,files:["document/listen-document-click-capture-false-passive-false.tsx"]},{options:["document","click-listen-document-click-capture-false-passive","âœ—","âœ“"],count:1,files:["document/listen-document-click-capture-false-passive.tsx"]},{options:["document","click-listen-document-click-capture-passive-false","âœ“","âœ—"],count:1,files:["document/listen-document-click-capture-passive-false.tsx"]},{options:["document","click-listen-document-click-capture-passive","âœ“","âœ“"],count:1,files:["document/listen-document-click-capture-passive.tsx"]},{options:["document","input-listen-document-input-capture-false-passive-false","âœ—","âœ—"],count:1,files:["document/listen-document-input-capture-false-passive-false.tsx"]},{options:["document","input-listen-document-input-capture-false-passive","âœ—","âœ“"],count:1,files:["document/listen-document-input-capture-false-passive.tsx"]},{options:["document","input-listen-document-input-capture-passive-false","âœ“","âœ—"],count:1,files:["document/listen-document-input-capture-passive-false.tsx"]},{options:["document","input-listen-document-input-capture-passive","âœ“","âœ“"],count:1,files:["document/listen-document-input-capture-passive.tsx"]},{options:["document","keydown-listen-document-keydown-capture-false-passive-false","âœ—","âœ—"],count:1,files:["document/listen-document-keydown-capture-false-passive-false.tsx"]},{options:["document","keydown-listen-document-keydown-capture-false-passive","âœ—","âœ“"],count:1,files:["document/listen-document-keydown-capture-false-passive.tsx"]},{options:["document","keydown-listen-document-keydown-capture-passive-false","âœ“","âœ—"],count:1,files:["document/listen-document-keydown-capture-passive-false.tsx"]},{options:["document","keydown-listen-document-keydown-capture-passive","âœ“","âœ“"],count:1,files:["document/listen-document-keydown-capture-passive.tsx"]},{options:["host","click-listen-host-click-capture-false-passive-false","âœ—","âœ—"],count:1,files:["host/listen-host-click-capture-false-passive-false.tsx"]},{options:["host","click-listen-host-click-capture-false-passive","âœ—","âœ“"],count:1,files:["host/listen-host-click-capture-false-passive.tsx"]},{options:["host","click-listen-host-click-capture-passive-false","âœ“","âœ—"],count:1,files:["host/listen-host-click-capture-passive-false.tsx"]},{options:["host","click-listen-host-click-capture-passive","âœ“","âœ“"],count:1,files:["host/listen-host-click-capture-passive.tsx"]},{options:["host","input-listen-host-input-capture-false-passive-false","âœ—","âœ—"],count:1,files:["host/listen-host-input-capture-false-passive-false.tsx"]},{options:["host","input-listen-host-input-capture-false-passive","âœ—","âœ“"],count:1,files:["host/listen-host-input-capture-false-passive.tsx"]},{options:["host","input-listen-host-input-capture-passive-false","âœ“","âœ—"],count:1,files:["host/listen-host-input-capture-passive-false.tsx"]},{options:["host","input-listen-host-input-capture-passive","âœ“","âœ“"],count:1,files:["host/listen-host-input-capture-passive.tsx"]},{options:["host","keydown-listen-host-keydown-capture-false-passive-false","âœ—","âœ—"],count:1,files:["host/listen-host-keydown-capture-false-passive-false.tsx"]},{options:["host","keydown-listen-host-keydown-capture-false-passive","âœ—","âœ“"],count:1,files:["host/listen-host-keydown-capture-false-passive.tsx"]},{options:["host","keydown-listen-host-keydown-capture-passive-false","âœ“","âœ—"],count:1,files:["host/listen-host-keydown-capture-passive-false.tsx"]},{options:["host","keydown-listen-host-keydown-capture-passive","âœ“","âœ“"],count:1,files:["host/listen-host-keydown-capture-passive.tsx"]},{options:["window","click-listen-window-click-capture-false-passive-false","âœ—","âœ—"],count:1,files:["window/listen-window-click-capture-false-passive-false.tsx"]},{options:["window","click-listen-window-click-capture-false-passive","âœ—","âœ“"],count:1,files:["window/listen-window-click-capture-false-passive.tsx"]},{options:["window","click-listen-window-click-capture-passive-false","âœ“","âœ—"],count:1,files:["window/listen-window-click-capture-passive-false.tsx"]},{options:["window","click-listen-window-click-capture-passive","âœ“","âœ“"],count:1,files:["window/listen-window-click-capture-passive.tsx"]},{options:["window","keydown-listen-window-keydown-capture-false-passive-false","âœ—","âœ—"],count:1,files:["window/listen-window-keydown-capture-false-passive-false.tsx"]},{options:["window","keydown-listen-window-keydown-capture-false-passive","âœ—","âœ“"],count:1,files:["window/listen-window-keydown-capture-false-passive.tsx"]},{options:["window","keydown-listen-window-keydown-capture-passive-false","âœ“","âœ—"],count:1,files:["window/listen-window-keydown-capture-passive-false.tsx"]},{options:["window","keydown-listen-window-keydown-capture-passive","âœ“","âœ“"],count:1,files:["window/listen-window-keydown-capture-passive.tsx"]}],p={coverage:G,coveredPermutations:P},D=()=>{const t=c.testCaseStatus||{},s=Object.values(t),n=s.filter(o=>o.implemented).length,i=s.length,r=i>0?Math.round(n/i*100):0,l=s.reduce((o,a)=>o+(a.testCount||0),0);if(i===0){const o=c.items||[],a=o.filter(u=>u.tested).length,d=o.length;return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",marginBottom:"32px"},children:[e.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",border:"2px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Components Tested"}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:"#111827",lineHeight:"1",marginBottom:"6px"},children:[a,e.jsxs("span",{style:{color:"#d1d5db"},children:["/",d]})]}),e.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:[d>0?Math.round(a/d*100):0,"% complete"]})]}),e.jsxs("div",{style:{background:"#f0fdf4",padding:"20px",borderRadius:"8px",border:"2px solid #86efac",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#15803d",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Total Components"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#16a34a",lineHeight:"1",marginBottom:"6px"},children:d}),e.jsx("div",{style:{fontSize:"13px",color:"#15803d",marginBottom:"8px"},children:"Generated components"})]})]})}return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",marginBottom:"32px"},children:[e.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",border:"2px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Test Cases Implemented"}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:"#111827",lineHeight:"1",marginBottom:"6px"},children:[n,e.jsxs("span",{style:{color:"#d1d5db"},children:["/",i]})]}),e.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:[r,"% complete"]})]}),e.jsxs("div",{style:{background:"#f0fdf4",padding:"20px",borderRadius:"8px",border:"2px solid #86efac",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#15803d",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Total Tests Passing"}),e.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#16a34a",lineHeight:"1",marginBottom:"6px"},children:l}),e.jsx("div",{style:{fontSize:"13px",color:"#15803d",marginBottom:"8px"},children:"All tests passing âœ“"})]})]})},M=()=>{const t=c.testCaseStatus||{},s=c.items||[],n=l=>{const o=s.filter(a=>a.caseIds&&a.caseIds.includes(l));return{tested:o.filter(a=>a.tested).length,total:o.length}},i=l=>l?.testCount?`${l.testCount} tests`:"",r=[{id:1,implemented:t[1]?.implemented||!1,desc:t[1]?.description||"Host target events - listeners attached to the host element",types:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"ðŸŸ¢ Basic:"})," Host target events with all event types and capture/passive combinations",e.jsx("br",{}),e.jsx("strong",{children:"Coverage:"})," click, input, keydown events Ã— capture: true/false Ã— passive: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Uses Host Element Pattern | ",i(t[1])]})]}),tested:n(1).tested,total:n(1).total,testCount:t[1]?.testCount||0,section:t[1]?.implemented?"implemented":"missing"},{id:2,implemented:t[2]?.implemented||!1,desc:t[2]?.description||"Global target events - listeners attached to window, document, or body",types:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"ðŸŸ¡ Standard:"})," Global target events (window, document, body) with all event types",e.jsx("br",{}),e.jsx("strong",{children:"Coverage:"})," window/document/body Ã— click/keydown/input Ã— capture: true/false Ã— passive: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Uses Global Target Pattern | ",i(t[2])]})]}),tested:n(2).tested,total:n(2).total,testCount:t[2]?.testCount||0,section:t[2]?.implemented?"implemented":"missing"},{id:3,implemented:t[3]?.implemented||!1,desc:t[3]?.description||"Capture phase behavior - testing capture=true vs capture=false",types:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"ðŸŸ¡ Standard:"})," Capture phase behavior across all targets and events",e.jsx("br",{}),e.jsx("strong",{children:"Coverage:"})," capture: true/false behavior verification",e.jsx("br",{}),e.jsxs("small",{children:["Event capture phase testing | ",i(t[3])]})]}),tested:n(3).tested,total:n(3).total,testCount:t[3]?.testCount||0,section:t[3]?.implemented?"implemented":"missing"},{id:4,implemented:t[4]?.implemented||!1,desc:t[4]?.description||"Passive listener behavior - testing passive=true vs passive=false",types:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"ðŸŸ¡ Standard:"})," Passive listener behavior across all targets and events",e.jsx("br",{}),e.jsx("strong",{children:"Coverage:"})," passive: true/false behavior verification",e.jsx("br",{}),e.jsxs("small",{children:["Passive listener optimization testing | ",i(t[4])]})]}),tested:n(4).tested,total:n(4).total,testCount:t[4]?.testCount||0,section:t[4]?.implemented?"implemented":"missing"}];return e.jsx(j,{rows:r,previewCount:4})},O=()=>{const t=y.useMemo(()=>{const s=c.items||[],n=new Map(s.map(i=>[i.optionsKey,i]));return(p.coveredPermutations||[]).map((i,r)=>{const[l,o,a,d]=i.options||[],u=(i.options||[]).join("|"),h=n.get(u)||{},f=Array.isArray(h.caseIds)?[...h.caseIds].sort((v,w)=>v-w):[];return{index:r,target:l,event:o,capture:a,passive:d,caseNumbers:f}})},[]);return e.jsx(k,{rows:t,previewCount:3,columns:[{key:"target",label:"target",width:"20%"},{key:"event",label:"event",width:"20%"},{key:"capture",label:"capture",width:"15%"},{key:"passive",label:"passive",width:"15%"},{key:"testedBy",label:"Tested By",width:"30%"}]})},R=()=>{const t=c.testCaseStatus||{},s=Object.entries(t).filter(([n,i])=>!i.implemented).map(([n,i])=>({id:n,desc:i.description||`Test Case #${n}`}));return s.length===0?null:e.jsx("div",{children:s.map(({id:n,desc:i})=>e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("strong",{children:["Test Case #",n," TODO"]}),": ",i]},n))})};function m(t){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...x(),...t.components};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Testing/Decorators/@Listen"}),`
`,e.jsx(s.h1,{id:"listen-decorator",children:"@Listen Decorator"}),`
`,e.jsxs(s.p,{children:["The ",e.jsx(s.code,{children:"@Listen"})," decorator wires an event listener to a target (host, window, document, or body). This page documents the test coverage, patterns, generated components, and implementation status."]}),`
`,e.jsx(s.h2,{id:"decorator-properties",children:"Decorator Properties"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"target"}),": where to listen (default: host) - can be ",e.jsx(s.code,{children:"host"}),", ",e.jsx(s.code,{children:"window"}),", ",e.jsx(s.code,{children:"document"}),", or ",e.jsx(s.code,{children:"body"})]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"event"}),": the event name (e.g., ",e.jsx(s.code,{children:"click"}),", ",e.jsx(s.code,{children:"keydown"}),", ",e.jsx(s.code,{children:"input"}),")"]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"capture"}),": use capture phase when true"]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.strong,{children:"passive"}),": mark listener as passive when true"]}),`
`]}),`
`,e.jsx(s.h2,{id:"rules-at-a-glance",children:"Rules (at a glance)"}),`
`,e.jsx(b,{rules:L,sourcePath:"./data/rules.json",modeLabel:"Listen target"}),`
`,e.jsx(s.h2,{id:"test-cases",children:"Test Cases"}),`
`,e.jsxs(s.p,{children:["Test cases for ",e.jsx(s.code,{children:"@Listen"})," are organized by ",e.jsx(s.strong,{children:"target and event behavior"})," - from basic host events to global window/document/body listeners with capture and passive options. All ",e.jsx(s.code,{children:"@Listen"})," tests reside under ",e.jsx("code",{children:"test/wdio/listen"}),"."]}),`
`,`
`,e.jsx(D,{}),`
`,e.jsx(s.h2,{id:"test-cases-1",children:"Test Cases"}),`
`,e.jsxs(s.p,{children:["Test cases are organized by ",e.jsx(s.strong,{children:"target and behavior"})," - from basic host element listeners to global targets with capture and passive options. All ",e.jsx(s.code,{children:"@Listen"})," tests reside under ",e.jsx("code",{children:"test/wdio/listen"}),"."]}),`
`,`
`,e.jsx(M,{}),`
`,e.jsx(s.h2,{id:"generated-components",children:"Generated Components"}),`
`,e.jsx("div",{children:e.jsxs(s.p,{children:[e.jsx("strong",{children:"Generated Components:"})," ",p.coverage.covered," of ",p.coverage.total,` generated (
`,e.jsxs("strong",{children:[p.coverage.percent,"%"]}),")"]})}),`
`,e.jsx("p",{style:{marginTop:8},children:e.jsxs(s.p,{children:[`This section lists the generated components we build to stress the compiler. Each row is one component with a
unique combination of decorator options (`,e.jsx("code",{children:"target"})," Ã— ",e.jsx("code",{children:"event"})," Ã— ",e.jsx("code",{children:"capture"})," Ã— ",e.jsx("code",{children:"passive"}),`). If a combo fails to compile,
we capture that as a rule in `,e.jsx("code",{children:"data/rules.json"}),`, update the list, and regenerate. The "Tested By" column reflects which
highâ€‘level test cases cover each component.`]})}),`
`,`
`,e.jsx(O,{}),`
`,e.jsx(s.hr,{}),`
`,e.jsx(s.h2,{id:"test-categories",children:"Test Categories"}),`
`,e.jsxs(s.h3,{id:"-basic-target-1--1-test-case",children:[e.jsx(s.strong,{children:"ðŸŸ¢ Basic Target (1)"})," â€” 1 test case"]}),`
`,e.jsx(s.p,{children:"Foundation patterns for host element listeners, covering all event types and capture/passive combinations."}),`
`,e.jsxs(s.h3,{id:"-standard-patterns-2-4--3-test-cases",children:[e.jsx(s.strong,{children:"ðŸŸ¡ Standard Patterns (2-4)"})," â€” 3 test cases"]}),`
`,e.jsx(s.p,{children:"Common listener scenarios including global targets (window, document, body), capture phase behavior, and passive listener optimization."}),`
`,e.jsx(s.hr,{}),`
`,`
`,(()=>{const n=c.testCaseStatus||{};return Object.entries(n).filter(([r,l])=>!l.implemented).length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"ðŸ“‹ TODO - Remaining Test Cases"}),e.jsx(R,{})]})})(),`
`,e.jsx(s.hr,{}),`
`,e.jsx(s.h2,{id:"component-grouping",children:"Component Grouping"}),`
`,e.jsxs(s.p,{children:["Generated components are organized by target under ",e.jsx(s.code,{children:"test/wdio/listen/components/"}),":"]}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"host/"})," â€” host element listeners"]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"window/"})," â€” window global listeners"]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"document/"})," â€” document global listeners"]}),`
`,e.jsxs(s.li,{children:[e.jsx(s.code,{children:"body/"})," â€” body element listeners"]}),`
`]})]})}function q(t={}){const{wrapper:s}={...x(),...t.components};return s?e.jsx(s,{...t,children:e.jsx(m,{...t})}):m(t)}export{D as ListenCoverageSummary,O as ListenGeneratedComponents,R as ListenTODOSection,M as ListenTestCasesTable,q as default};
