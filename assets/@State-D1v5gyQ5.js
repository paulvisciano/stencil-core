import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{useMDXComponents as j}from"./index-D-iNwUTw.js";import{M as y}from"./blocks-cDThjR1y.js";import{d as p}from"./coverage-data-BL23zIMU.js";import{r as h}from"./iframe-BQbRq0hK.js";import{R as g}from"./RulesAtAGlance-HuOa_0MN.js";import"./preload-helper-D9Z9MdNV.js";import"./index-cEMhdOia.js";const b="@State",m={type:["string","number","boolean","array","object","any"],hasDefault:[!0,!1]},w=[],v=[{name:"string",when:{type:"string"}},{name:"number",when:{type:"number"}},{name:"boolean",when:{type:"boolean"}},{name:"array",when:{type:"array"}},{name:"object",when:{type:"object"}},{name:"any",when:{type:"any"}}],D={naming:{prefix:"state",includeOptions:["type","hasDefault"]}},C={decorator:b,options:m,exclusiveGroups:w,modes:v,emit:D},S=[{group:"string",options:{type:"string",hasDefault:!1},files:["string/state-string-no-default.tsx"],tag:"state-string-no-default",tested:!0,testedBy:["mutates string (no default) and updates DOM"]},{group:"string",options:{type:"string",hasDefault:!0},files:["string/state-string-default.tsx"],tag:"state-string-default",tested:!0,testedBy:["mutates string (default) and updates DOM"]},{group:"object",options:{type:"object",hasDefault:!1},files:["object/state-object-no-default.tsx"],tag:"state-object-no-default",tested:!0,testedBy:["renders object (no default) statically"]},{group:"object",options:{type:"object",hasDefault:!0},files:["object/state-object-default.tsx"],tag:"state-object-default",tested:!0,testedBy:["renders object (default) statically"]},{group:"number",options:{type:"number",hasDefault:!1},files:["number/state-number-no-default.tsx"],tag:"state-number-no-default",tested:!0,testedBy:["mutates number (no default) and updates DOM"]},{group:"number",options:{type:"number",hasDefault:!0},files:["number/state-number-default.tsx"],tag:"state-number-default",tested:!0,testedBy:["mutates number (default) and updates DOM"]},{group:"boolean",options:{type:"boolean",hasDefault:!1},files:["boolean/state-boolean-no-default.tsx"],tag:"state-boolean-no-default",tested:!0,testedBy:["mutates boolean (no default) and updates DOM"]},{group:"boolean",options:{type:"boolean",hasDefault:!0},files:["boolean/state-boolean-default.tsx"],tag:"state-boolean-default",tested:!0,testedBy:["mutates boolean (default) and updates DOM"]},{group:"array",options:{type:"array",hasDefault:!1},files:["array/state-array-no-default.tsx"],tag:"state-array-no-default",tested:!0,testedBy:["renders array (no default) statically"]},{group:"array",options:{type:"array",hasDefault:!0},files:["array/state-array-default.tsx"],tag:"state-array-default",tested:!0,testedBy:["renders array (default) statically"]},{group:"any",options:{type:"any",hasDefault:!1},files:["any/state-any-no-default.tsx"],tag:"state-any-no-default",tested:!0,testedBy:["renders any (no default) statically"]},{group:"any",options:{type:"any",hasDefault:!0},files:["any/state-any-default.tsx"],tag:"state-any-default",tested:!0,testedBy:["renders any (default) statically"]}],f={items:S},T=()=>{const[d,t]=h.useState(!1),c=h.useMemo(()=>{const r=new Map((f.items||[]).map(s=>[`${s.options?.type},${String(s.options?.hasDefault)}`,s]));return(p.coveredPermutations||[]).map((s,a)=>{const n=s.options?.[0],o=s.options?.[1],i=r.get(`${n},${o}`)||{};return{index:a,type:n,hasDefault:o,tested:!!i.tested,tests:i.testedBy||[]}})},[]),l=c.length,u=r=>e.jsx("div",{style:{maxWidth:"100%",width:"100%",background:"#fff"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"22%"}}),e.jsx("col",{style:{width:"22%"}}),e.jsx("col",{style:{width:"12%"}}),e.jsx("col",{style:{width:"44%"}})]}),e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Has Default Value"}),e.jsx("th",{style:{textAlign:"center"},children:"Tested"}),e.jsx("th",{children:"Test Cases"})]})}),e.jsx("tbody",{children:r.map(s=>e.jsxs("tr",{style:{background:s.tested?"#fbfffb":"#fff"},children:[e.jsx("td",{children:s.type}),e.jsx("td",{children:s.hasDefault}),e.jsx("td",{style:{textAlign:"center"},children:s.tested?e.jsx("span",{style:{color:"green"},children:"✔"}):e.jsx("span",{style:{color:"#999"},children:"—"})}),e.jsx("td",{children:s.tests.length?e.jsx("ul",{style:{margin:0,paddingLeft:16},children:s.tests.map((a,n)=>e.jsx("li",{children:a},n))}):e.jsx("em",{children:"—"})})]},s.index))})]})});if(!d){const r=c.slice(0,3);return e.jsxs("div",{style:{position:"relative"},children:[u(r),l>3&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:40,height:48,background:"linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 90%)",pointerEvents:"none"}}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:-8},children:e.jsxs("button",{onClick:()=>t(!0),style:{padding:"6px 12px",border:"1px solid #ddd",background:"#f8f8f8",borderRadius:4,cursor:"pointer",fontSize:12},"aria-label":`Show all ${l} components`,children:["Show all ",l," components"]})})]})]})}return e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:8},children:e.jsx("button",{onClick:()=>t(!1),style:{padding:"6px 12px",border:"1px solid #ddd",background:"#f8f8f8",borderRadius:4,cursor:"pointer",fontSize:12},"aria-label":"Collapse components table",children:"Collapse table"})}),u(c)]})};function x(d){const t={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...j(),...d.components};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Testing/Decorators/@State"}),`
`,e.jsx(t.h1,{id:"state-decorator",children:"@State Decorator"}),`
`,e.jsxs(t.p,{children:["The ",e.jsx(t.code,{children:"@State"})," decorator manages internal state for a component. When a state property changes, the component re-renders."]}),`
`,e.jsx(t.h2,{id:"decorator-properties",children:"Decorator Properties"}),`
`,e.jsxs(t.p,{children:["The ",e.jsx(t.code,{children:"@State"})," decorator is used for managing internal data that can change over time. Unlike ",e.jsx(t.code,{children:"@Prop"}),", state is not meant to be passed in from a parent component."]}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:[e.jsx(t.strong,{children:"Type"}),": ",e.jsx(t.code,{children:"@State"})," can be used with standard data types, such as ",e.jsx(t.code,{children:"string"}),", ",e.jsx(t.code,{children:"number"}),", ",e.jsx(t.code,{children:"boolean"}),", ",e.jsx(t.code,{children:"array"}),", ",e.jsx(t.code,{children:"object"}),", or ",e.jsx(t.code,{children:"any"}),". The type can be explicitly annotated or inferred from the initial value."]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.strong,{children:"Default Value"}),": A state property can be initialized with a default value. If no default value is provided, it will be ",e.jsx(t.code,{children:"undefined"}),". Generation covers both scenarios to ensure the component compiles correctly."]}),`
`]}),`
`,e.jsx(t.h2,{id:"rules-at-a-glance",children:"Rules (at a glance)"}),`
`,e.jsx(g,{rules:C,sourcePath:"./rules.json",modeLabel:"State type"}),`
`,e.jsx(t.h2,{id:"generated-components",children:"Generated Components"}),`
`,e.jsx("div",{children:e.jsxs(t.p,{children:[e.jsx("strong",{children:"Generated Components:"})," ",p.coverage.covered," of ",p.coverage.total,` generated (
`,e.jsxs("strong",{children:[p.coverage.percent,"%"]}),")"]})}),`
`,e.jsxs("p",{style:{marginTop:8},children:[e.jsxs(t.p,{children:[`This section lists the generated components we build to stress the compiler. Each row is one component with a
unique combination of decorator options (`,e.jsx("code",{children:"type"})," × ",e.jsx("code",{children:"hasDefault"}),`). If a combo fails to compile,
we capture that as a rule in `,e.jsx("code",{children:"rules.json"}),`, update the list, and regenerate. Use the toggle to expand or
collapse the full list.`]}),e.jsx("br",{}),e.jsxs(t.p,{children:[e.jsx("em",{children:"Note:"})," the “Tested / Test Cases” column will be populated in Phase 2 when we add real tests."]})]}),`
`,`
`,e.jsx(T,{}),`
`,e.jsx(t.h2,{id:"component-grouping",children:"Component Grouping"}),`
`,e.jsxs(t.p,{children:["Generated components are organized by state type under ",e.jsx(t.code,{children:"test/wdio/state/matrix/"}),":"]}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"string/"})," — string state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"number/"})," — numeric state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"boolean/"})," — boolean state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"array/"})," — array state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"object/"})," — object state values"]}),`
`,e.jsxs(t.li,{children:[e.jsx(t.code,{children:"any/"})," — untyped or mixed state values"]}),`
`]}),`
`,e.jsx(t.h2,{id:"test-cases",children:"Test Cases"}),`
`,(()=>{const c=f.items||[],l=o=>c.filter(i=>o.has(i.group)),u=o=>({tested:o.filter(i=>i.tested).length,total:o.length}),r=new Set(["string","number","boolean"]),s=new Set(["any","array","object"]),a=u(l(r)),n=u(l(s));return e.jsx("div",{style:{maxWidth:"100%",width:"100%",background:"#fff"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"55%"}}),e.jsx("col",{style:{width:"20%"}}),e.jsx("col",{style:{width:"10%"}}),e.jsx("col",{style:{width:"15%"}})]}),e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f2f2f2"},children:[e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"Test Case"}),e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"Types Covered"}),e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:"Status"}),e.jsx("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"Test Folder"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd"},children:["Button click mutates a primitive ",e.jsx("code",{children:"@State"})," value and updates DOM output."]}),e.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd"},children:["type: string | number | boolean × default: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",a.tested,"/",a.total]})]}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:e.jsx("span",{style:{color:a.tested===a.total?"green":"#999"},children:a.total>0?a.tested===a.total?"✔":"✗":"—"})}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.jsx("code",{children:"test/wdio/state/tests"})})]}),e.jsxs("tr",{style:{background:"#f9f9f9"},children:[e.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd"},children:["Static render validation for complex types (",e.jsx("code",{children:"any"}),", ",e.jsx("code",{children:"array"}),", ",e.jsx("code",{children:"object"}),") with and without defaults."]}),e.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd"},children:["type: any | array | object × default: true/false",e.jsx("br",{}),e.jsxs("small",{children:["Covered: ",n.tested,"/",n.total]})]}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:e.jsx("span",{style:{color:n.tested===n.total?"green":"#999"},children:n.total>0?n.tested===n.total?"✔":"✗":"—"})}),e.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.jsx("code",{children:"test/wdio/state/tests"})})]})]})]})})})()]})}function P(d={}){const{wrapper:t}={...j(),...d.components};return t?e.jsx(t,{...d,children:e.jsx(x,{...d})}):x(d)}export{T as GeneratedComponentsTable,P as default};
