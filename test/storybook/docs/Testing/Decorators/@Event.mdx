import data from './event-coverage-data.json';

# @Event Testing Matrix

The `@Event` decorator allows a component to emit custom events. This matrix tracks the test coverage for the different options available to the `@Event` decorator.

## Event Properties

The `@Event` decorator can be configured with the following properties in its options object:

-   **`bubbles`** (`boolean`): When set to `true` (the default), the event will bubble up through the DOM tree. This means that parent elements can also listen for the event.
-   **`cancelable`** (`boolean`): When set to `true` (the default), the event's default action can be prevented by calling `event.preventDefault()`.
-   **`composed`** (`boolean`): When set to `true` (the default), the event can propagate across the shadow DOM boundary into the standard DOM. This is important for components that use shadow DOM.

## Covered Permutations

<div>
  <strong>Permutation Coverage:</strong> {data.coverage.covered}/{data.coverage.total} permutations covered (
  <strong>{data.coverage.percent}%</strong>)
</div>

<div style={{ maxWidth: '100%', width: '100%', background: '#fff' }}>
  <table style={{ width: '100%', borderCollapse: 'collapse', tableLayout: 'fixed' }}>
    <colgroup>
      <col style={{ width: '25%' }} />
      <col style={{ width: '25%' }} />
      <col style={{ width: '25%' }} />
      <col style={{ width: '25%' }} />
    </colgroup>
    <thead>
      <tr>
        <th>bubbles</th>
        <th>cancelable</th>
        <th>composed</th>
        <th>Number of Occurrences</th>
      </tr>
    </thead>
    <tbody>
      {data.coveredPermutations.map((p, i) => (
        <tr key={i}>
          {p.options.map((opt, j) => (
            <td key={j}>{opt}</td>
          ))}
          <td>{p.count}</td>
        </tr>
      ))}
    </tbody>
  </table>
</div>

Our testing strategy for the `@Event` decorator is two-fold. First, we verify that the fundamental event emission works correctly for every possible permutation of the decorator's properties. This ensures baseline reliability. Second, we have more targeted tests for specific properties like `bubbles`, `cancelable`, and `composed` to verify their individual behavior. These property-specific tests do not need to cover every permutation.

## Test Case Summary

The following table summarizes the current and future test cases for the `@Event` decorator.

<div style={{ maxWidth: '100%', width: '100%', background: '#fff' }}>
  <table style={{ width: '100%', borderCollapse: 'collapse' }}>
    <colgroup>
      <col style={{ width: '50%' }} />
      <col style={{ width: '25%' }} />
      <col style={{ width: '25%' }} />
    </colgroup>
    <thead>
      <tr style={{ background: '#f2f2f2' }}>
        <th style={{ padding: '8px', border: '1px solid #ddd', textAlign: 'left' }}>Test Case</th>
        <th style={{ padding: '8px', border: '1px solid #ddd', textAlign: 'left' }}>Coverage</th>
        <th style={{ padding: '8px', border: '1px solid #ddd', textAlign: 'center' }}>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style={{ padding: '8px', border: '1px solid #ddd' }}>
          Verify that the event correctly emits regardless of the properties set on it.
        </td>
        <td style={{ padding: '8px', border: '1px solid #ddd' }}>All Permutations</td>
        <td style={{ padding: '8px', border: '1px solid #ddd', textAlign: 'center' }}>
          <span style={{ color: 'green' }}>✔</span>
        </td>
      </tr>
      <tr style={{ background: '#f9f9f9' }}>
        <td style={{ padding: '8px', border: '1px solid #ddd' }}>
          Verify the <code>bubbles</code> property correctly affects event propagation.
        </td>
        <td style={{ padding: '8px', border: '1px solid #ddd' }}>Property-Specific</td>
        <td style={{ padding: '8px', border: '1px solid #ddd', textAlign: 'center' }}>
          <span style={{ color: 'red' }}>✖</span>
        </td>
      </tr>
      <tr>
        <td style={{ padding: '8px', border: '1px solid #ddd' }}>
          Verify the <code>cancelable</code> property correctly affects <code>event.preventDefault()</code>.
        </td>
        <td style={{ padding: '8px', border: '1px solid #ddd' }}>Property-Specific</td>
        <td style={{ padding: '8px', border: '1px solid #ddd', textAlign: 'center' }}>
          <span style={{ color: 'red' }}>✖</span>
        </td>
      </tr>
      <tr style={{ background: '#f9f9f9' }}>
        <td style={{ padding: '8px', border: '1px solid #ddd' }}>
          Verify the <code>composed</code> property correctly affects event propagation across shadow DOM.
        </td>
        <td style={{ padding: '8px', border: '1px solid #ddd' }}>Property-Specific</td>
        <td style={{ padding: '8px', border: '1px solid #ddd', textAlign: 'center' }}>
          <span style={{ color: 'red' }}>✖</span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
